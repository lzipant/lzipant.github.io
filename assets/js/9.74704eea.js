(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{526:function(a,o,e){"use strict";e.r(o);var l=e(16),t=Object(l.a)({},(function(){var a=this,o=a.$createElement,e=a._self._c||o;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("p",[a._v("日志在项目的运行中的重要性不言而喻，但是Java中的日志框架众多，比如Log4j，Logback，JUL等，不同的应用框架和工具包也可能使用不同的日志框架，如果使用不当，很可能导致日志模块十分凌乱，所以很有必要搞清楚Java中的日志体系。")]),a._v(" "),e("p",[a._v("Java中的日志体系分为两部分，日志接口和日志实现，前者提供了统一的日志操作规范，后者提供了具体的日志输出实现。目前日志接口有两大阵营，Commons Logging和Slf4J。Commons Logging出自Apache，之前叫Jakarta Commons Logging（简称JCL）。")]),a._v(" "),e("p",[a._v("日志接口需要结合具体的日志实现框架使用，如果项目中使用JCL作为日志接口，则需要在项目的classpath下新增一个commons-logging.properties文件，通过该文件指定具体的日志实现，比如：")]),a._v(" "),e("div",{staticClass:"language-properties line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("org.apache.commons.logging.Log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("org.apache.commons.logging.impl.Jdk14Logger")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("如果需要改变日志实现，只需要改变上述文件中的配置。")]),a._v(" "),e("p",[a._v("具体的日志实现有下面几种：")]),a._v(" "),e("ul",[e("li",[a._v("Log4J")]),a._v(" "),e("li",[a._v("Log4J2：Apache推出的Log4J的升级版。")]),a._v(" "),e("li",[a._v("JUL（Java Util Logging）：JDK1.4以后提供的日志实现。")]),a._v(" "),e("li",[a._v("Logback：属于Slf4J阵营，SpringBoot 2.0以后默认使用该日志实现框架。")])]),a._v(" "),e("p",[a._v("Logback完全实现了Slf4J接口，相比其他框架具有性能更优，功能更丰富的特点。")]),a._v(" "),e("p",[a._v("另外关于slf4j，有许多相关的日志适配器和桥接器：")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("Slf4J适配器实现了Slf4J的接口，然后调用其他框架来输出日志，比如slf4j-log4j12就是针对Log4J的适配器，slf4j-jdk14是针对JCL的的适配器。")])]),a._v(" "),e("li",[e("p",[a._v("Slf4J桥接器是指将对没有实现Slf4J接口的日志框架（如log4j）的调用转换为对实现了slf4j的日志框架（如Logback）的调用。对于已存在使用了其他日志框架的项目，如果底层想使用实现了slf4j的日志框架又不想修改代码，那么就可以利用桥接器。常见的桥接器jar包名称有：jcl-over-slf4j，log4j-over-slf4j。")])])]),a._v(" "),e("p",[a._v("适配器和桥接器的区别就是，适配器是将代码中的slf4j转换为非slf4j实现，桥接器是将代码中的已有的非slf4j转换为slf4j实现，两者的作用刚好相反。另外必须注意"),e("font",{attrs:{color:"deeppink"}},[a._v("不能同时使用桥接器和适配器，否则会出现死循环")]),a._v("，因为两者的功能刚好相反，会导致互相转换。")],1),a._v(" "),e("p",[a._v("关于slf4j以及各种日志实现，适配器和桥接器的关系如下图所示：")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://static001.geekbang.org/resource/image/97/fe/97fcd8b55e5288c0e9954f070f1008fe.png",alt:""}})]),a._v(" "),e("p",[a._v("目前使用较多的是slf4j+logback组合，具体使用细节请参考各自的官网。")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://www.slf4j.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("SLF4J"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"http://logback.qos.ch/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Logback"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);o.default=t.exports}}]);